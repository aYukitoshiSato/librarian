<h1><%= @content.title %></h1>
<p><%= @content.form %></p>

<div class="collections-index">
  <% @content.collections.order(No: :asc).includes(:creator_belongs_to_collections).each do |collection| %>
    <div class="collections-index-item">

      <% if collection.No != 0 %>
        <%= collection.No %>
        <%= collection.title %>
      <% end %>
<!-- collections.creatorsで中間テーブルの記述をせずに取得することも可能だが、positionが取得できない為、このような記述に -->
      <% if collection.creator_belongs_to_collections %>
        <% collection.creator_belongs_to_collections.each do |cbtc| %>
          <% if collection.No == 0 %>
            <h2>
              <%= "#{cbtc.position}:#{cbtc.creator.name}" %>
            </h2>
          <% else %>
            <div>
              <%= "#{cbtc.position}:#{cbtc.creator.name}" %>
            </div>
          <% end %>
        <% end %>
      <% end %>

    </div>
  <% end %>
</div>
